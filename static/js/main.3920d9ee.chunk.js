(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var c,o,i,r=n(3),s=n.n(r),a=n(40),l=n.n(a),u=(n(60),n(5)),d=(n(61),n(36)),j=(n(104),n(62),d.a.initializeApp({apiKey:"AIzaSyCf9iZTemnGhKa5eEi6wzFTbXk_cXmAHK4",authDomain:"booklist-305815.firebaseapp.com",projectId:"booklist-305815",storageBucket:"booklist-305815.appspot.com",messagingSenderId:"431504889946",appId:"1:431504889946:web:df1a1b10e369196c26a063",measurementId:"G-B2T1XPJ8CT"})),b=j.auth(),h=new d.a.auth.GoogleAuthProvider,O=d.a.firestore(),x=n(13),m=n(9),g=n(8),f=n(10),p=n(26),v=n(44),k=n(22),y={background:"#222831",color:"#eeeeee"},w={background:"#eeeeee",color:"#222831"},I=n(2),S=g.c.nav(c||(c=Object(f.a)(["\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: 0;\n  font-size: 20px;\n  background-color: #00adb5;\n  padding: 15px;\n"]))),C=g.c.span(o||(o=Object(f.a)(["\n  padding: 10px;\n  margin: 10px;\n"]))),L=g.c.button(i||(i=Object(f.a)(["\n  border: none;\n  background-color: #eeeeee;\n  border: 2px solid #222831;\n  font-size: 14px;\n  margin-left: 5px;\n  padding: 5px;\n  border-radius: 5px;\n"])));var A,D,P=function(e){var t=e.theme,n=e.setTheme,c=e.setIsLoggedIn,o=e.isLoggedIn,i=e.setUsername,r=e.setUserEmail;return Object(I.jsxs)(S,{children:[Object(I.jsx)(C,{children:Object(I.jsx)(x.b,{to:"/",children:Object(I.jsx)(v.a,{})})}),Object(I.jsx)(C,{children:Object(I.jsx)(x.b,{to:"/shelf",children:Object(I.jsx)(p.b,{})})}),Object(I.jsx)(C,{onClick:function(){n(t===y?w:y)},children:t===w?Object(I.jsx)(k.b,{}):Object(I.jsx)(k.c,{})}),Object(I.jsx)(C,{children:Object(I.jsx)(x.b,{to:"/search",children:Object(I.jsx)(v.b,{})})}),o?Object(I.jsx)(L,{onClick:function(){b.signOut().then((function(){c(null),i(""),r(null)})).catch((function(e){console.log("Could not log out ".concat(e))}))},children:Object(I.jsx)(x.b,{to:"/",children:"Sign Out"})}):Object(I.jsx)(L,{children:Object(I.jsx)(x.b,{to:"/signin",children:"Sign in"})})]})},E=n(23),F=n(20),z=n(105),U=n(18),q=n.n(U),R=n(28),T=n(21),_=n(29),B=g.c.div(A||(A=Object(f.a)(["\n  margin-top: 35px;\n  padding: 5px;\n  flex-grow: 1;\n"]))),G=g.c.div(D||(D=Object(f.a)(["\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: stretch;\n  align-items: center;\n  padding: 15px;\n\n  @media (min-width: 900px) {\n    max-width: 65%;\n  }\n\n  @media (min-width: 2500px) {\n    max-width: 45%;\n  }\n"])));var N,Y,W,K,Z,J,M=function(e){var t=e.user_UID,n=e.isLoggedIn,c=e.username,o=e.theme,i=Object(r.useState)(""),s=Object(u.a)(i,2),a=s[0],l=s[1],d=Object(r.useState)([]),j=Object(u.a)(d,2),b=j[0],h=j[1],x=Object(r.useState)(Object(z.a)()),m=Object(u.a)(x,2),g=m[0],f=m[1],v=Object(r.useState)([]),k=Object(u.a)(v,2),y=k[0],w=k[1],S=Object(r.useState)(!1),C=Object(u.a)(S,2),L=C[0],A=C[1],D=Object(r.useState)(-1),P=Object(u.a)(D,2),U=P[0],N=P[1];Object(r.useEffect)((function(){O.collection("users/".concat(t,"/shelf")).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(F.a)({title:e.id},e.data())}));w(t)}))}),[]);var Y={overlay:{position:"fixed",backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{background:o.background,display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",webkitoverflowscrolling:"touch",textAlign:"center",padding:"20px"}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;N(e),A((function(e){return!e}))}return Object(I.jsxs)("div",{children:[n&&Object(I.jsxs)("div",{children:[Object(I.jsx)(R.a,{}),Object(I.jsx)(le,{children:"".concat(c)})]}),Object(I.jsx)("h1",{children:"Search Books"}),!b.length&&Object(I.jsx)(p.a,{size:170,style:{margin:20}}),!n&&Object(I.jsx)("h4",{children:"Sign in or create an account to add books to your shelf"}),Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(a,"&key=").concat("AIzaSyAbYe2Z2WiZ0YeiDo8Ohqx4eG41ZY--nA4","&maxResults=40")).then((function(e){if(e.ok||console.log("fetch didn't work",e),e.ok)return console.log("fetch worked"),e.json()})).then((function(e){var t=e.items.filter((function(e){return e.volumeInfo.imageLinks&&e.volumeInfo.description}));h(t)})).catch((function(e){console.log("error: ",e)})),f(Object(z.a)())},children:[Object(I.jsx)("input",{value:a,onChange:function(e){l(e.currentTarget.value)}}),Object(I.jsx)("button",{type:"submit",children:"search"})]},g),Object(I.jsx)(G,{children:b&&b.map((function(e,c){return Object(I.jsxs)(B,{children:[Object(I.jsx)("img",{width:"128",height:"195",src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title}),Object(I.jsx)("br",{}),Object(I.jsx)("button",{onClick:function(){return W(c)},children:Object(I.jsx)(_.a,{})}),n&&Object(I.jsx)("button",{onClick:function(){return function(e){var n=O.collection("users").doc("".concat(t)).collection("shelf").doc("".concat(e.volumeInfo.title));n.get().then((function(t){t.exists?(n.delete().then((function(){return console.log("book deleted")})).catch((function(e){return console.error("could not delete book"+e)})),w(y.filter((function(e){return e.title!==n})))):(n.set({title:e.volumeInfo.title,author:e.volumeInfo.authors.join(", "),thumbnail:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description}).then((function(){console.log("book successfully saved")})).catch((function(e){alert("Please sign in or create an account to add books to your shelf"),console.error("error writing doc: ",e)})),w((function(t){return[].concat(Object(E.a)(t),[{title:e.volumeInfo.title,author:e.volumeInfo.authors,thumbnail:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description}])})))}))}(e)},children:y.some((function(t){return t.title===e.volumeInfo.title&&t.thumbnail===e.volumeInfo.imageLinks.thumbnail}))?Object(I.jsx)(T.b,{}):"add to shelf"})]},Object(z.a)())}))}),function(e){var t=b[e];return t&&Object(I.jsxs)(q.a,{theme:o,style:Y,isOpen:L,modalIndex:e,onRequestClose:function(){return W()},children:[Object(I.jsx)("button",{style:{position:"absolute",top:5,left:5,border:"none"},onClick:function(){return W()},children:Object(I.jsx)(T.a,{size:20})}),Object(I.jsx)("div",{children:Object(I.jsx)("img",{src:t.volumeInfo.imageLinks.thumbnail,alt:t.volumeInfo.title})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:t.volumeInfo.description}),Object(I.jsx)("p",{children:"by ".concat(t.volumeInfo.authors)})]}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{onClick:function(){return W()},children:"close"})})]})}(U)]})},V=n(27),X=n(30),H=g.c.form(N||(N=Object(f.a)(["\n  margin: 0 auto;\n  width: 85%;\n  max-width: 1400px;\n  display: block;\n  padding: 5px;\n"]))),Q=g.c.input(Y||(Y=Object(f.a)(["\n  width: 75%;\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 5px;\n  margin: 5px;\n"]))),$=g.c.p(W||(W=Object(f.a)(["\n  font-size: 12px;\n  margin: 10px;\n"]))),ee=g.c.button(K||(K=Object(f.a)(["\n  height: 2.5em;\n  border-radius: 5px;\n  background-color: #d84b37;\n  font-size: 18px;\n  margin: 10px;\n"]))),te=g.c.button(Z||(Z=Object(f.a)(["\n  height: 2em;\n  border-radius: 5px;\n  font-size: 16px;\n  border-radius: 5px;\n  margin: 20px;\n  background-color: #00adb5;\n"]))),ne=g.c.div(J||(J=Object(f.a)(["\n  margin: 0 auto;\n  width: 85%;\n  max-width: 1400px;\n  display: block;\n  padding: 5px;\n  text-align: center;\n"])));var ce,oe,ie,re=function(e){var t=e.username,n=e.isLoggedIn,c=e.theme,o=Object(r.useState)(!1),i=Object(u.a)(o,2),s=i[0],a=i[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),j=d[0],m=d[1],g=Object(r.useState)({username:"",email:"",password:"",confirmPassword:""}),f=Object(u.a)(g,2),p=f[0],v=f[1],k=Object(r.useState)(Object(z.a)()),y=Object(u.a)(k,2),w=y[0],S=y[1];function C(e){var t=e.target,n=t.name,c=t.value;v((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(V.a)({},n,c))}))}var L={overlay:{position:"fixed",backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{background:c.background,display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",webkitoverflowscrolling:"touch",textAlign:"center",padding:"20px"}};function A(e){m(e.currentTarget.value)}function D(e){e.preventDefault();var t=j;b.sendPasswordResetEmail(t).then((function(){alert("check your email for reset instructions"),console.log("check your email for reset instructions"),a(!1)})).catch((function(e){alert(e+"could not send reset password email"),console.error(e+"could not send reset password email")}))}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{children:n?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(M,{username:t})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h3",{children:"Create Your Account"}),Object(I.jsx)(ne,{children:Object(I.jsxs)(ee,{name:"googleSignIn",onClick:function(e){b.signInWithPopup(h).then((function(e){e.credential;return O.collection("users").doc(e.user.uid).set({username:e.user.displayName,email:e.user.email,uid:e.user.uid})})).catch((function(e){var t=e.code,n=e.message;alert("Could not signup: ".concat(t,". ").concat(n))}))},children:[Object(I.jsx)(X.a,{size:25})," Sign up with Google"]})}),Object(I.jsxs)(H,{onSubmit:function(e){e.preventDefault();var t=p.username,n=p.email,c=p.password,o=p.confirmPassword;/^.{6,25}$/g.test(c)?c===o?(v({username:"",email:"",password:""}),S(Object(z.a)()),b.createUserWithEmailAndPassword(n,c).then((function(e){return O.collection("users").doc(e.user.uid).set({username:t,email:n,uid:e.user.uid})})).catch((function(e){alert("Error. Could not create account. Please Try again. ".concat(e.code))}))):alert("passwords do not match"):alert("password must be between 6 and 25 characters long")},children:[Object(I.jsx)("h4",{children:"Register"}),Object(I.jsx)(Q,{required:!0,maxLength:"75",name:"username",placeholder:"pick a username",onChange:C}),Object(I.jsx)("br",{}),Object(I.jsx)(Q,{type:"email",required:!0,minLength:"6",maxLength:"75",name:"email",placeholder:"your email",onChange:C}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(Q,{required:!0,placeholder:"create a password",name:"password",type:"password",onChange:C}),Object(I.jsx)(Q,{required:!0,placeholder:"confirm your password",name:"confirmPassword",type:"password",onChange:C}),Object(I.jsx)($,{children:"Password must be at least 6 characters long"}),Object(I.jsx)(te,{type:"submit",children:"create my account"}),Object(I.jsx)("hr",{}),Object(I.jsx)("div",{children:Object(I.jsxs)("p",{children:["Already have an account?",Object(I.jsx)("br",{}),Object(I.jsx)(te,{children:Object(I.jsx)(x.b,{to:"/signin",children:"sign in"})})]})})]},w),Object(I.jsx)(ne,{children:Object(I.jsxs)("p",{children:["Forgot Your Password?",Object(I.jsx)("br",{}),Object(I.jsx)(te,{onClick:function(){return a(!0)},children:"reset password"})]})})]})}),Object(I.jsx)("div",{children:Object(I.jsx)(q.a,{theme:c,isOpen:s,onRequestClose:function(){return a(!1)},style:L,children:Object(I.jsxs)(H,{onSubmit:D,children:[Object(I.jsx)("h3",{children:"Password Reset"}),Object(I.jsx)("p",{children:"An email with reset instructions will be sent to:"}),Object(I.jsx)("input",{style:{margin:20},onChange:A,placeholder:"yourname@email.com",type:"email",name:"email",required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("button",{type:"submit",style:{margin:5},children:"send email"}),Object(I.jsx)("button",{onClick:function(){return a(!1)},style:{margin:5},children:"cancel"})]})})})]})},se=n(54),ae=n.n(se);q.a.setAppElement("#root");var le=g.c.p(ce||(ce=Object(f.a)(["\n  font-size: 18px;\n  display: inline;\n  padding: 10px;\n"]))),ue=g.c.p(oe||(oe=Object(f.a)(["\n  margin: 0 auto;\n  max-width: 75%;\n  padding: 20px;\n"]))),de=g.c.button(ie||(ie=Object(f.a)(["\n  display: inline;\n  margin: 20px;\n  padding: 5px;\n"])));var je=function(e){var t=e.isLoggedIn,n=e.username,c=e.user_UID,o=e.theme,i=Object(r.useState)([]),s=Object(u.a)(i,2),a=s[0],l=s[1],d=Object(r.useState)([]),j=Object(u.a)(d,2),m=j[0],g=j[1],f=Object(r.useState)(!1),p=Object(u.a)(f,2),v=p[0],y=p[1],w=Object(r.useState)(-1),S=Object(u.a)(w,2),C=S[0],L=S[1];Object(r.useEffect)((function(){O.collection("users/".concat(c,"/shelf")).onSnapshot((function(e){e.forEach((function(e){var t=e.data();g((function(e){return[].concat(Object(E.a)(e),[{title:t.title,thumbnail_URL:t.thumbnail,author:t.author,description:t.description}])}))}))}))}),[]),Object(r.useEffect)((function(){fetch("https://api.nytimes.com/svc/books/v3/lists/current/hardcover-nonfiction.json?api-key=".concat("ZBNkKwVoxAnqdKFd3GyMy5QVkohGhdnD")).then((function(e){if(e.ok)return e.json()})).then((function(e){l(e.results.books)})).catch((function(e){return console.error("error: ".concat(e))}))}),[]);var A={overlay:{position:"fixed",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",border:"1px solid #ccc",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"5px",outline:"none",textAlign:"center",background:o.background}};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;L(e),y((function(e){return!e}))}return Object(I.jsxs)("div",{children:[t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(R.a,{}),Object(I.jsx)(le,{children:"".concat(n)})]}),Object(I.jsx)(de,{children:Object(I.jsx)(x.b,{to:"/shelf",children:"go to my shelf"})}),Object(I.jsx)(de,{children:Object(I.jsx)(x.b,{to:"/search",children:"search all books"})})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h1",{children:"My Virtual Bookshelf"}),Object(I.jsx)(k.a,{size:140}),Object(I.jsxs)(ue,{children:["Do you love e-books and audiobooks but miss putting finished books on your bookshelf? Now you have a digital shelf to display your collection. Create your virtual bookshelf and show people what you've been reading!",Object(I.jsx)("br",{})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h5",{children:"Create an Account or sign up with Google"}),Object(I.jsx)(ee,{style:{backgroundColor:"#00adb5"},children:Object(I.jsx)(x.b,{to:"/signup",children:"Sign up"})}),Object(I.jsxs)(ee,{name:"googleSignIn",onClick:function(){b.signInWithPopup(h).then((function(e){e.credential.accessToken,e.user;return O.collection("users").doc(e.user.uid).set({username:e.user.displayName,email:e.user.email,uid:e.user.uid})})).catch((function(e){e.code;var t=e.message;e.email,e.credential;alert("Error: ".concat(t))}))},children:[Object(I.jsx)(X.a,{size:25})," Sign up with Google"]})]})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:"What have you read lately?"}),Object(I.jsx)("h5",{style:{textDecoration:"underline"},children:"NYT Best Sellers"}),a.length?a.map((function(e,n){return Object(I.jsxs)(B,{children:[Object(I.jsx)("img",{src:e.book_image,alt:e.title}),Object(I.jsx)("div",{children:e.title}),Object(I.jsx)("div",{children:e.contributor}),Object(I.jsxs)("div",{children:["Rank: ",e.rank]}),Object(I.jsx)("button",{onClick:function(){return D(n)},children:Object(I.jsx)(_.a,{size:20})}),t&&Object(I.jsx)("button",{onClick:function(){return function(e){var t=O.collection("users").doc("".concat(c)).collection("shelf").doc("".concat(e.title));t.get().then((function(n){n.exists?(t.delete().then((function(){return console.log("book deleted")})).catch((function(e){return alert("could not delete book"+e)})),g(m.filter((function(t){return t.title!==e.title})))):(t.set({title:e.title,author:e.author,thumbnail:e.book_image,description:e.description}).then((function(){console.log("doc successfully written")})).catch((function(e){alert("Please sign in or create an account to create your shelf"),console.error("error writing doc: ",e)})),g((function(t){return[].concat(Object(E.a)(t),[{title:e.title,author:e.author,thumbnail:e.book_image,description:e.description}])})))}))}(e)},children:m.some((function(t){return t.title===e.title&&t.author===e.author}))?Object(I.jsx)(T.b,{}):"add to shelf"})]},Object(z.a)())})):Object(I.jsx)(ae.a,{type:"ThreeDots",color:"#00adb5",height:50,width:50,timeout:9e3})]}),function(e){var t=a[e];return t&&Object(I.jsxs)(q.a,{theme:o,style:A,isOpen:v,modalIndex:e,onRequestClose:function(){return D()},children:[Object(I.jsx)("img",{src:t.book_image,alt:t.title,width:"250"}),Object(I.jsx)("p",{children:t.description}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{onClick:function(){return D()},children:"close"})})]})}(C),!t&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ue,{style:{marginBottom:-15},children:"Create an account to add books to your shelf"}),Object(I.jsx)(de,{children:Object(I.jsx)(x.b,{to:"/signup",children:"Sign up"})})]})]})},be=n(55),he=n.n(be);var Oe=function(e){var t=e.user_UID,n=e.isLoggedIn,c=e.username,o=e.theme,i=Object(r.useState)([]),s=Object(u.a)(i,2),a=s[0],l=s[1],d=Object(r.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1],m=Object(r.useState)(-1),g=Object(u.a)(m,2),f=g[0],v=g[1],k=Object(r.useState)(!1),y=Object(u.a)(k,2),w=y[0],S=y[1],C=!(!n||!a.length);Object(r.useEffect)((function(){O.collection("users/".concat(t,"/shelf")).onSnapshot((function(e){e.forEach((function(e){var t=e.data();l((function(e){return[].concat(Object(E.a)(e),[{title:t.title,thumbnail_URL:t.thumbnail,author:t.author,description:t.description}])}))}))}))}),[]);var L={overlay:{position:"fixed",backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{background:o.background,display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",webkitoverflowscrolling:"touch",textAlign:"center",padding:"20px"}};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;v(e),h((function(e){return!e}))}function D(e){e.preventDefault(),he.a.sendForm("service_tq89xn1","template_9ww6k7i",e.target,"user_UEiB9JmfoIUSh0FdsKFZE").then((function(e){alert("Success! Your email has been sent. Thanks for sharing"),console.log(e.text)}),(function(e){alert(e+"Could not send email. Double check the email address and try again."),console.log(e.text)})),S(!1),e.target.reset()}return Object(I.jsxs)(I.Fragment,{children:[n&&Object(I.jsxs)("div",{children:[Object(I.jsx)(R.a,{}),Object(I.jsx)(le,{children:"".concat(c)})]}),Object(I.jsx)("h1",{children:"My Shelf"}),Object(I.jsx)("div",{style:{margin:"0 auto",padding:30},children:Object(I.jsx)(p.b,{size:170})}),Object(I.jsx)("div",{children:C&&Object(I.jsx)("button",{onClick:function(){return S(!0)},children:"email shelf"})}),Object(I.jsx)(G,{children:a.length?a.map((function(e,c){return Object(I.jsxs)(B,{children:[Object(I.jsx)("img",{src:e.thumbnail_URL,alt:e.title,width:"128",height:"195"}),Object(I.jsx)("br",{}),Object(I.jsx)("button",{onClick:function(){return A(c)},children:Object(I.jsx)(_.a,{})}),n&&Object(I.jsx)("button",{onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this book from your shelf?")){var n=O.collection("users").doc("".concat(t)).collection("shelf").doc("".concat(e.title));n.get().then((function(e){e.exists&&(n.delete().then((function(){return console.log("book deleted")})).catch((function(e){return console.error("could not delete book"+e)})),l(a.filter((function(e){return e.title===n}))))}))}}(e)},children:Object(I.jsx)(T.b,{})})]},Object(z.a)())})):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{style:{margin:"0 auto",paddingTop:40},children:[Object(I.jsx)("h4",{children:"Your shelf is empty. Search for books to add to your shelf"}),Object(I.jsx)("button",{style:{margin:30},children:Object(I.jsx)(x.b,{to:"/search",children:"Search"})})]}),Object(I.jsx)("br",{})]})}),Object(I.jsx)("div",{children:Object(I.jsx)(q.a,{theme:o,isOpen:w,onRequestClose:function(){return S(!1)},style:L,children:Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(H,{className:"contact-form",onSubmit:D,children:[Object(I.jsx)("h4",{children:"Share your bookshelf"}),Object(I.jsx)("p",{children:" email this shelf to:"}),Object(I.jsx)("input",{type:"hidden",name:"username",value:c}),Object(I.jsx)("input",{type:"hidden",name:"link",value:window.location.href}),Object(I.jsx)(Q,{type:"email",name:"email",placeholder:"name@email.com",required:!0}),Object(I.jsx)(te,{type:"submit",children:"share shelf"}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{style:{marginTop:15,borderRadius:5},onClick:function(){return S(!1)},children:"close"})})]})})})}),Object(I.jsx)("div",{children:function(e){var t=a[e];return t&&Object(I.jsxs)(q.a,{theme:o,style:L,isOpen:b,onRequestClose:function(){return A()},children:[Object(I.jsx)("button",{style:{position:"absolute",top:5,left:5,border:"none"},onClick:function(){return A()},children:Object(I.jsx)(T.a,{size:20})}),Object(I.jsx)("img",{width:"128",src:t.thumbnail_URL,alt:t.title}),Object(I.jsx)("p",{children:t.description}),Object(I.jsx)("p",{children:"by ".concat(t.author)}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{onClick:function(){return A()},children:"close"})})]})}(f)})]})};var xe,me=function(e){var t=e.isLoggedIn,n=e.setIsLoggedIn,c=e.username,o=(e.setUsername,e.theme),i=Object(r.useState)({email:"",password:""}),s=Object(u.a)(i,2),a=s[0],l=s[1],d=Object(r.useState)(!1),j=Object(u.a)(d,2),O=j[0],x=j[1],m=Object(r.useState)(""),g=Object(u.a)(m,2),f=g[0],p=g[1],v=Object(r.useState)(Object(z.a)()),y=Object(u.a)(v,2),w=y[0],S=y[1];function C(e){var t=e.target,n=t.name,c=t.value;l((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(V.a)({},n,c))}))}var L={overlay:{position:"fixed",backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{background:o.background,display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",webkitoverflowscrolling:"touch",textAlign:"center",padding:"20px"}};function A(e){p(e.currentTarget.value)}function D(e){e.preventDefault();var t=f;b.sendPasswordResetEmail(t).then((function(){alert("check your email for reset instructions"),x(!1)})).catch((function(e){alert(e+"could not send reset password email. Double check your email address and try again."),console.error(e+"could not send reset password email")}))}return Object(I.jsx)("div",{children:t?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(je,{isLoggedIn:t,username:c,theme:o})}):Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:"Sign in"}),Object(I.jsx)("div",{children:Object(I.jsx)(k.a,{size:100,style:{margin:30}})}),Object(I.jsxs)(H,{onSubmit:function(e){e.preventDefault();var t=a.email,c=a.password;l({email:"",password:""}),S(Object(z.a)()),b.signInWithEmailAndPassword(t,c).then((function(e){e.username;n(!0)})).catch((function(e){alert("".concat(e,". Could not sign in. Try again or reset your passowrd.")),console.log(e.code),console.log(e.message)}))},children:[Object(I.jsx)(Q,{required:!0,name:"email",placeholder:"email",onChange:C}),Object(I.jsx)("br",{}),Object(I.jsx)(Q,{required:!0,placeholder:"password",name:"password",type:"password",onChange:C}),Object(I.jsx)("br",{}),Object(I.jsx)(te,{children:"sign in"}),Object(I.jsx)($,{children:"or"})]},w),Object(I.jsxs)(ee,{name:"googleSignIn",onClick:function(){b.signInWithPopup(h).then((function(e){n(!0)})).catch((function(e){var t=e.code,c=e.message;n(null),alert("".concat(t).concat(c))}))},children:[Object(I.jsx)(X.a,{size:25})," Sign up with Google"]}),Object(I.jsx)("div",{children:Object(I.jsxs)("p",{children:["Forgot Your Password?",Object(I.jsx)("br",{}),Object(I.jsx)(te,{onClick:function(){return x(!0)},children:"reset password"})]})}),Object(I.jsx)("div",{children:Object(I.jsx)(q.a,{theme:o,isOpen:O,onRequestClose:function(){return x(!1)},style:L,children:Object(I.jsxs)(H,{onSubmit:D,children:[Object(I.jsx)("h3",{children:"Password Reset"}),Object(I.jsx)("p",{children:"An email with reset instructions will be sent to:"}),Object(I.jsx)("input",{style:{margin:20},onChange:A,placeholder:"yourname@email.com",type:"email",name:"email",required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("button",{type:"submit",style:{margin:5},children:"send email"}),Object(I.jsx)("button",{onClick:function(){return x(!1)},style:{margin:5},children:"cancel"})]})})})]})})},ge=Object(g.b)(xe||(xe=Object(f.a)(["\n  html, body {\n    background: ",";\n    color: ","; \n    transition: all .3s ease;\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    text-align: center;\n    width: 85%;\n    margin: 0 auto;\n    padding: 20px;\n  }\n\n  a { \n    color: #1b262c;\n    text-decoration: none;\n  }\n\n  button {\n    border-radius: 5px;\n    margin: 3px;\n    margin-top: 15px;\n    border: 2px solid #222831;\n    background-color: #eeeeee;\n  }\n\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.color}));var fe=function(){var e=Object(r.useState)(w),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),i=Object(u.a)(o,2),s=i[0],a=i[1],l=Object(r.useState)(null),d=Object(u.a)(l,2),j=d[0],h=d[1],f=Object(r.useState)(null),p=Object(u.a)(f,2),v=p[0],k=p[1],y=Object(r.useState)(null),S=Object(u.a)(y,2),C=S[0],L=S[1];return b.onAuthStateChanged((function(e){e?O.collection("users").doc("".concat(e.uid)).get().then((function(t){if(t.exists){var n=t.data();a(e.displayName||n.username),h(e.uid),k(!0),L(e.email),console.log(e.uid+"is signed in")}else alert("Error logging in. Please try again")})).catch((function(e){alert("".concat(e,". Could not sign in. Please try again.")),console.log("Error getting document:",e)})):k(null)})),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ge,{theme:n}),Object(I.jsx)(g.a,{theme:n,children:Object(I.jsx)(x.a,{basename:"https://alexanderolivares.github.io/Virtual-Bookshelf/",children:Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(P,{theme:n,setTheme:c,username:s,setUsername:a,isLoggedIn:v,setIsLoggedIn:k,setUserEmail:L}),Object(I.jsx)("div",{className:"content",children:Object(I.jsxs)(m.c,{children:[Object(I.jsx)(m.a,{exact:!0,path:"/",children:Object(I.jsx)(je,{theme:n,username:s,user_UID:j,isLoggedIn:v})}),Object(I.jsx)(m.a,{exact:!0,path:"/search",children:Object(I.jsx)(M,{theme:n,user_UID:j,isLoggedIn:v,username:s})}),Object(I.jsx)(m.a,{exact:!0,path:"/signin",children:Object(I.jsx)(me,{theme:n,username:s,setUsername:a,setIsLoggedIn:k,isLoggedIn:v})}),Object(I.jsx)(m.a,{exact:!0,path:"/signup",children:Object(I.jsx)(re,{theme:n,userEmail:C,username:s,setUsername:a,setIsLoggedIn:k,isLoggedIn:v})}),Object(I.jsx)(m.a,{exact:!0,path:"/shelf",children:Object(I.jsx)(Oe,{theme:n,username:s,user_UID:j,isLoggedIn:v})})]})})]})})})]})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};n(102);l.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(fe,{})}),document.getElementById("root")),pe()},60:function(e,t,n){},61:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.3920d9ee.chunk.js.map